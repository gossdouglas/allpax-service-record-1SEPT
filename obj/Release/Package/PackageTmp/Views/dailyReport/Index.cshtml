@model IEnumerable<allpax_service_record.Models.tbl_dailyReport>
@using Microsoft.AspNet.Identity
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*Create new daily report*@

<head>
    <style>
        .container {
            border: 2px solid black;
        }

        .btn {
            background-color: transparent;
            background-repeat: no-repeat;
            border: none;
            cursor: pointer;
            overflow: hidden;
            outline: none;
        }

        .select2 {
            border: 1px solid black;
        }

        i {
            pointer-events: none;
        }
    </style>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    @*<script src="~/Scripts/chosen.jquery.min.js"></script>*@
    @*<script src="~/Scripts/chosen.jquery.js"></script>*@
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script>
        $(document).ready(function () {//begin document read jquery statements

            var standardElementHeight = $("#newWorkDescBtn_save").height();
            $(".standardInput").height(standardElementHeight);

            fn_enableSelect2();

            var dailyRptTeamArr = [];
            var dailyRptTeamUserIDArr = [];

            var indexWorkDescEntries = 0;
            var indexDelaysEntries = 0;
            var indexWntyDelaysEntries = 0;

            var jobs_dpdown = $('#jobs_dpdown');
            var subJobTypes_dpdwn = $('#subJobTypes_dpdwn');
            var team_dpdwn = $('#team_dpdwn');
            //var workDescTeam_dpdwn = $('#workDescTeam_dpdwn');
            var dailyRptAuthor = $('#dailyRptAuthor').html();//suck in the current user name along with the domain
            dailyRptAuthor = dailyRptAuthor.replace(/@@.*/, "");//chop off the domain
            var lastDlyRptCrtdByUser;

            //begin fill the jobs dropdown
            $.ajax({
                url: 'DataService.asmx/GetAllJobNos',
                method: 'post',
                dataType: 'json',
                success: function (data) {

                    jobs_dpdown.append($('<option/>', { value: -1, text: 'Select Job' }));

                    $(data).each(function (index, item) {
                        jobs_dpdown.append($('<option/>', { value: item.jobID, text: item.jobID }));
                    });
                }
            });
            //end fill the jobs dropdown

            //begin jobs id dropdown change
            jobs_dpdown.change(function () {

                $.ajax({
                    url: 'DataService.asmx/GetCustomerInfoByJobID',
                    method: 'post',
                    dataType: 'json',
                    data: { jobID: jobs_dpdown.val() },
                    success: function (data) {

                        $(data).each(function (index, item) {
                            $("#output_customerName").html(item.customerName.toString());
                            $("#output_location").html(item.address.toString());
                            $("#output_customerCode").html(item.customerCode.toString());
                            $("#output_customerContact").html(item.customerContact.toString());
                        });
                    }
                });

                //begin fill the team names dropdown
                $('#subJobTypes_dpdwn').removeAttr("disabled");
                $('#subJobTypes_dpdwn').empty();//clear the dropdown
                $('#input_jobs_dpdown').val('1');//

                $.ajax({
                    url: 'DataService.asmx/GetSubJobTypesByJobID',
                    method: 'post',
                    dataType: 'json',
                    data: { jobID: jobs_dpdown.val() },
                    success: function (data) {

                        subJobTypes_dpdwn.append($('<option/>', { value: '', text: 'Select a Job Sub-Type' }));

                        $(data).each(function (index, item) {
                            subJobTypes_dpdwn.append($('<option/>', { value: item.subJobID, text: item.description }));
                        });
                    }
                });
                //end fill sub jobs dropdown

            });
            //end jobs id dropdown change

            //begin fill the team names dropdown
            $.ajax({
                url: 'DataService.asmx/GetAllTeamNames',
                method: 'post',
                dataType: 'json',
                data: { userName: '%' },
                success: function (data) {
                    team_dpdwn.append($('<option/>', { value: -1, text: 'Add Team Member' }));

                    $(data).each(function (index, item) {
                        team_dpdwn.append($('<option/>', { value: item.userName, text: item.name + "-" + item.shortName }));
                    });
                }
            });
            //end fill the team names dropdown

            //begin add team member on drop down change
            team_dpdwn.change(function () {

                $.ajax({
                    url: 'DataService.asmx/GetAllTeamNames',
                    method: 'post',
                    dataType: 'json',
                    data: { userName: $(this).val() },
                    success: function (data) {

                        $(data).each(function (index, item) {
                            var temp_userName = item.userName;
                            var temp_name = item.name;
                            var temp_shortName = item.shortName;

                            $("#team_").clone(true).prop("id", "team_" + temp_userName.toString()).appendTo("#txt_teamMembers");
                            $("#team_" + temp_userName.toString()).text(temp_name + "| " + temp_shortName.toString());
                            $("#team_" + temp_userName.toString()).removeAttr('hidden');//unhide the copy

                            dailyRptTeamArr.push([temp_userName, temp_name, temp_shortName]);
                            dailyRptTeamUserIDArr.push(temp_userName);
                            //console.log(dailyRptTeamArr);

                            //begin AddTeamMember
                            //begin axios add post
                            //axios.post('/dailyReportByReportID/AddTeamMember', {
                            //    dailyReportID: dailyReportID,
                            //    userName: temp_userName,
                            //})
                            //    .then(function (response) {
                            //        $.fn.updateSectionDpdwns();
                            //    })
                            //    .catch(function (error) {
                            //        console.log(error);
                            //    });
                            //end axios add post

                            $("#team_dpdwn option[value='" + temp_userName + "']").attr('disabled', true);//lock the user from being selectable

                            //$("<option id=workDescTeam_dpdwn_" + temp_userName + " value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo("#workDescTeam_dpdwn");
                            //$("<option id=workDescTeam_dpdwn_" + temp_userName + " value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo(".workDescTeam_dpdwn");

                            //$("<option value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo(".workDescTeam_dpdwn");
                            //$("<option value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo(".delaysTeam_dpdwn");
                            //$("<option value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo(".wntyDelaysTeam_dpdwn");

                            $("<option value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo(".Team_dpdwn");

                            //$("<option value=" + temp_userName + ">" + temp_shortName + "</option>").appendTo(".workDescTeam_dpdwnLine");
                            //updateSectionDpdwns();
                        });
                        //end AddTeamMember
                    }
                });

                $(team_dpdwn).val("-1");
            });
            //end add team member on drop down change

            //begin when a team member class is clicked...
            $(".team_").on('click', function () {
                //var tempTeamMemberUserID = this.id.substr(5);

                //begin DeleteTeamMember
                //begin axios delete post
                //axios.post('/dailyReportByReportID/DeleteTeamMember', {

                //    dailyReportID: dailyReportID,
                //    userName: tempTeamMemberUserID,
                //})
                //    .then(function (response) {
                //        console.log(response);
                //        $.fn.updateSectionDpdwns();
                //    })
                //    .catch(function (error) {
                //        console.log(error);
                //    });
                //end axios delete post

                var tempTeamMemberUserID = this.id.replace(/team_[0-9]*/i, "");
                for (var row = 0; row < dailyRptTeamArr.length; row++) {
                    if (dailyRptTeamArr[row][0] == tempTeamMemberUserID) {
                        dailyRptTeamArr.splice(row, 1);
                        dailyRptTeamUserIDArr.splice(row, 1);
                    }
                }

                $("#team_dpdwn option[value='" + tempTeamMemberUserID + "']").removeAttr('disabled');
                $("#workDescTeam_dpdwn option[value='" + tempTeamMemberUserID + "']").remove();
                $(".workDescTeam_dpdwnLine option[value='" + tempTeamMemberUserID + "']").remove();
                $("#" + $(this).attr("id")).remove();

                //updateSectionDpdwns();
            });
            //end when a team member class is clicked...
            //end when a record class is clicked...

            //begin #addButton
            $("#addButton").click(function () {//when the add button is clicked...

                var addItem1 = $("#jobs_dpdown").val();
                var addItem2 = $("#slct_date").val();
                var addItem3 = $("#subJobTypes_dpdwn").val();
                var addItem4 = $("#input_startTime").val();
                var addItem5 = $("#input_endTime").val();
                var addItem6 = $("#input_lunch").val();
                var addItem7 = $("#input_equipment").val();
                var addItem7 = $("#input_equipment").val();
                var addItem8 = dailyRptAuthor;
                var addItem9 = [];
                addItem9 = dailyRptTeamUserIDArr;

                alert(
                    "Selected for Add POST:" + '\n' +
                    "addItem1: " + addItem1 + '\n' +
                    "addItem2: " + addItem2 + '\n' +
                    "addItem3: " + addItem3 + '\n' +
                    "addItem4: " + addItem4 + '\n' +
                    "addItem5: " + addItem5 + '\n' +
                    "addItem6: " + addItem6 + '\n' +
                    "addItem7: " + addItem7 + '\n' +
                    "addItem8: " + addItem8 + '\n' +
                    "addItem9: " + addItem9 + '\n'
                );
                $("#addRecordItem1").val('');
                $("#addRecordItem2").val('');
                $("#addRecordItem3").val('');
                $("#addRecordItem4").val('');
                $("#addRecordItem5").val('');
                $("#addRecordItem6").val('');
                $("#addRecordItem7").val('');
                $("#addRecordItem8").val('');
                $("#addRecordItem9").val('');

                //begin axios add post
                axios.post('/dailyReport/AddDailyReport', {
                    jobID: addItem1,
                    date: addItem2,
                    subJobID: addItem3,
                    startTime: addItem4,
                    endTime: addItem5,
                    lunchHours: addItem6,
                    equipment: addItem7,
                    dailyReportAuthor: addItem8,
                    dailyRptTeamArr: addItem9
                })
                    .then(function (response) {
                        console.log(response);
                        //begin get last daily report created by user name
                        $.ajax({
                            url: 'DataService.asmx/GetLastDlyRptCrtdByUserName',
                            method: 'post',
                            dataType: 'json',
                            data: { dailyReportAuthor: dailyRptAuthor },
                            success: function (data) {

                                $(data).each(function (index, item) {
                                    lastDlyRptCrtdByUser = item;
                                    window.location = '/DailyReportByReportID?reportID=' + lastDlyRptCrtdByUser;
                                });
                            }
                        });
                    })
                    .catch(function (error) {
                        console.log(error);
                    });
            });

            $(".Btn_add").click(function () {

                fn_produceParsedShortNames($(this));
                fn_disableSelect2();

                $(this).parent().parent().find(".narr_div").attr("contenteditable", "false");//lock the narrative for edits
                $(this).parent().parent().find(".dpdwn_div").hide();//hide the team dropdown
                $(this).parent().parent().find(".dpdwn_parsed_div").removeAttr("hidden");//show the parsed version of the team dropdown
                $(this).parent().parent().find(".dpdwn_parsed_div").show();//show the parsed version of the team dropdown
                $(this).parent().parent().find(".Btn_add").hide();//remove the add button, only needed for new work descriptions
                $(this).parent().parent().find(".Btn_clear").hide();//remove the clear button, only needed for new work descriptions
                $(this).parent().parent().find(".Btn_edit").removeAttr("hidden");//show the edit button, only needed for work description line entries
                $(this).parent().parent().find(".Btn_delete").removeAttr("hidden");//show the delete button, only needed for work description line entries
                $(this).parent().parent().last().find(".narr_div").css('border-bottom-style', 'none');
                $(this).parent().parent().find(".dpdwn_parsed_div").css('border-bottom-style', 'none');
                $(this).parent().parent().find(".button_div").css('border-bottom-style', 'none');

                if (/newWorkDescBtn_add/i.test($(this).attr("class"))) {
                    indexWorkDescEntries = indexWorkDescEntries + 1;

                    $(".workDescriptionLine_template_row_hidden").removeAttr("hidden");
                    $(this).parent().parent().prop("id", "workDescLine_" + indexWorkDescEntries).appendTo("#workDescriptionLine_template");
                    $(".workDescriptionLine_template_row_hidden").clone(true).prop("class", "row workDescriptionLine_template_row_active").appendTo("#workDescriptionLine_template");
                    $(".workDescriptionLine_template_row_hidden").attr("hidden", "true");
                }
                else if (/newDelaysBtn_add/i.test($(this).attr("class"))) {
                    indexDelaysEntries = indexDelaysEntries + 1;

                    $(".delaysLine_template_row_hidden").removeAttr("hidden");
                    $(this).parent().parent().prop("id", "delaysLine_" + indexDelaysEntries).appendTo("#delaysLine_template");
                    $(".delaysLine_template_row_hidden").clone(true).prop("class", "row delaysLine_template_row_active").appendTo("#delaysLine_template");
                    $(".delaysLine_template_row_hidden").attr("hidden", "true");
                }
                else if (/newWntyDelaysBtn_add/i.test($(this).attr("class"))) {
                    indexWntyDelaysEntries = indexWntyDelaysEntries + 1;

                    $(".wntyDelaysLine_template_row_hidden").removeAttr("hidden");
                    $(this).parent().parent().prop("id", "wntyDelaysLine_" + indexWntyDelaysEntries).appendTo("#wntyDelaysLine_template");
                    $(".wntyDelaysLine_template_row_hidden").clone(true).prop("class", "row wntyDelaysLine_template_row_active").appendTo("#wntyDelaysLine_template");
                    $(".wntyDelaysLine_template_row_hidden").attr("hidden", "true");
                }

                fn_enableSelect2();
            });

            $(".Btn_edit").click(function () {
                var currentRow = $(this).parent().parent();

                $(this).hide();
                $(currentRow).find(".Btn_save").removeAttr("hidden");
                $(currentRow).find(".Btn_save").show();

                $(currentRow).find(".narr_div").attr("contenteditable", "true");
                $(currentRow).find(".dpdwn_parsed_div").hide();
                $(currentRow).find(".dpdwn_div").show();
                $(currentRow).css("color", "red");
            });

            $(".Btn_save").click(function () {
                var currentRow = $(this).parent().parent();

                $(this).hide();
                $(currentRow).find(".Btn_edit").removeAttr("hidden");
                $(currentRow).find(".Btn_edit").show();

                $(currentRow).find(".narr_div").attr("contenteditable", "false");
                $(currentRow).find(".dpdwn_parsed_div").show();
                $(currentRow).find(".dpdwn_div").hide();
                $(currentRow).css("color", "black");

                fn_produceParsedShortNames($(this));
            });

            $(".Btn_delete").click(function () {
                var currentRow = $(this).parent().parent();

                $.confirm({
                    title: 'Delete Entry?',
                    content: '',
                    buttons: {
                        confirm: function () {
                            $(currentRow).remove();
                        },
                        cancel: function () {
                        }
                    }
                });
            });

            var fields = "#slct_date, #input_jobs_dpdown, #input_equipment, #input_startTime, #input_endTime, #input_lunch, #subJobTypes_dpdwn";

            $(fields).on('change', function () {
                if (allFilled()) {
                    $('#addButton').removeAttr('disabled');
                } else {
                    $('#addButton').attr('disabled', 'disabled');
                }
            });

            function allFilled() {
                var filled = true;
                $(fields).each(function () {
                    if ($(this).val() == '') {
                        filled = false;
                    }
                });
                return filled;
            }

            function fn_enableSelect2() {
                $('.Team_dpdwn').select2({
                    width: "100%",
                    placeholder: "Select Team",
                    closeOnSelect: "false"
                })
            }

            function fn_disableSelect2() {
                $('.Team_dpdwn').select2('destroy')
            }

            function fn_produceParsedShortNames(button) {
                var currentWorkDescTeamShortNamesParsed = "";
                //select the list elements that contain the short names of the team members
                var currentTeamShortNameLists = $(button).parent().parent().find(".dpdwn_div").find(".select2-selection__rendered li");
                //select the div where the short names will be written
                var currentTeamDpdwnParsed = $(button).parent().parent().find(".dpdwn_parsed_div");

                $(currentTeamShortNameLists).each(function (index) {
                    currentWorkDescTeamShortNamesParsed = currentWorkDescTeamShortNamesParsed.concat($(this).attr("title") + "|");
                });
                currentTeamDpdwnParsed.html(currentWorkDescTeamShortNamesParsed);
            }

        });//end document read jquery statements
    </script>
</head>

<div class="container">
    <h3 style="text-align:center">CREATE A NEW FIELD SERVICE RECORD</h3>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Daily Log Information</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <div>
                <span><strong>Record No</strong></span>
                <span class="recordNo">new</span>
            </div>
        </div>
        <div class="col-3" style="padding:5px">
            <div>
                <span><strong>Author</strong></span>
                <span class="" id="dailyRptAuthor">@User.Identity.GetUserName()</span>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="md-col-2" style="padding:5px">
            <strong>Job:</strong>
        </div>
        <div class="md-col-2" style="padding:5px">
            <select name="jobs_dpdown" id="jobs_dpdown" style="width:100%" value="">
            </select>
            <input type="text" id="input_jobs_dpdown" name="" style="width:100%" hidden>
        </div>
        <div class="md-col-5" style="padding:5px"></div>
        <div class="md-col-1" style="padding:5px">
            <strong>Date:</strong>
        </div>
        <div class="md-col-2" style="padding:5px">
            <input type="date" class="form-control form-control-sm" id="slct_date" placeholder="" value="@DateTime.Today.ToString("yyyy-MM-dd")">
        </div>
    </div>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Customer:</strong>:
        </div>
        <div class="col-7" style="padding:5px" id="output_customerName"></div>
        <div class="col-1" style="padding:5px">
            <strong>Sub Job:</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <select name="subJobTypes_dpdwn" id="subJobTypes_dpdwn" style="width:100%" disabled>
            </select>
        </div>
    </div>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Location:</strong>
        </div>
        <div class="col-7" style="padding:5px" id="output_location"></div>
        <div class="col-1" style="padding:5px">
            <strong>Code:</strong>
        </div>
        <div class="col-2" style="padding:5px" id="output_customerCode"></div>
    </div>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Customer Contact:</strong>
        </div>
        <div class="col-10" style="padding:5px" id="output_customerContact"></div>
    </div>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Equipment:</strong>
        </div>
        <div class="col-10" style="padding:5px">
            <input type="text" value="" id="input_equipment" name="" style="width:100%">
        </div>
    </div>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Start Time:</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <input type="time" class="form-control form-control-sm" id="input_startTime">
        </div>
        <div class="col-2" style="padding:5px">
            <strong>End Time:</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <input type="time" class="form-control form-control-sm" id="input_endTime">
        </div>
        <div class="col-2" style="padding:5px">
            <strong>Lunch (hr)</strong>
        </div>
        <div class="col-1" style="padding:5px">
            <input type="text" class="form-control form-control-sm" id="input_lunch" value="1">
        </div>
        <div class="col-1" style="padding:5px">
        </div>
    </div>
</div>
<hr style="margin:1px; opacity:0" />
@*BEGIN ALLPAX TEAM*@
<div class="container" id="">
    <div class="row">
        <div class="col-2" style="padding:5px">
            <strong>Allpax Team:</strong>
        </div>
        <div class="col-10" style="padding:5px">
            <div class="row" style="margin:0px;">
                <select name="team_dpdwn" id="team_dpdwn" style="width:100%">
                </select>
            </div>
            <div class="row" style="margin:0px;" name="txt_teamMembers" id="txt_teamMembers">
                <div class="team_" id="team_" style="padding:5px; border:solid black 1px" hidden>
                    Johnny Watkins|JW
                </div>
            </div>
        </div>
    </div>
</div>
@*END ALLPAX TEAM*@
<hr style="margin:1px; opacity:0">
<div class="container" id="workDesc_container">
    <div class="row">
        <div class="col-6" style="padding:5px">
            <strong>Work Description</strong>
        </div>
        <div class="col-4" style="padding:5px">
            <strong>Team</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <strong>Action</strong>
        </div>
    </div>
    @*BEGIN NEW WORK DESCRIPTION TEMPLATE*@
    <div class="col-12" id="workDescriptionLine_template">
        <div class="row workDescriptionLine_template_row_active" id="" style="border:1px solid black;">
            <div class="col-6 narr_div workDescTeam_narr_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-4 dpdwn_div workDescTeam_dpdwn_div" style="padding:0px;">
                <select class="Team_dpdwn workDescTeam_dpdwn" id="" multiple="multiple">
                </select>
            </div>
            <div class="col-4 dpdwn_parsed_div workDescTeam_dpdwn_parsed_div" id="" hidden contenteditable="false" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-2 button_div workDescTeam_button_div" style="padding:0px; border:1px solid black">
                <button id="" class="btn btn-light btn-sm Btn_add newWorkDescBtn_add"><i class="far fa-plus-square fa-2x" style="color:black;"></i></button>
                <button id="" class="btn btn-light btn-sm Btn_clear newWorkDescBtn_clear" hidden><i class="fas fa-eraser fa-2x" style="color:black;"></i></button>

                <button id="" class="btn btn-light btn-sm Btn_edit lineWorkDescBtn_edit" hidden><i class="far fa-edit fa-2x" style="color:black;"></i></button>
                <button class='btn btn-light btn-sm Btn_save lineWorkDescBtn_save' hidden><i class='far fa-save fa-2x' style='color: black;'></i></button>
                <button class='btn btn-light btn-sm Btn_delete lineWorkDescBtn_delete' hidden><i class='far fa-minus-square fa-2x' style='color: black;'></i></button>
            </div>
        </div>

        <div class="row workDescriptionLine_template_row_hidden" id="" style="border:1px solid black;" hidden>
            <div class="col-6 narr_div workDescTeam_narr_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-4 dpdwn_div workDescTeam_dpdwn_div" style="padding:0px;">
                <select class="Team_dpdwn workDescTeam_dpdwn" id="" multiple="multiple">
                </select>
            </div>
            <div class="col-4 dpdwn_parsed_div workDescTeam_dpdwn_parsed_div" id="" hidden contenteditable="false" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-2 button_div workDescTeam_button_div" style="padding:0px; border:1px solid black">
                <button id="" class="btn btn-light btn-sm Btn_add newWorkDescBtn_add"><i class="far fa-plus-square fa-2x" style="color:black;"></i></button>
                <button id="" class="btn btn-light btn-sm Btn_clear newWorkDescBtn_clear" hidden><i class="fas fa-eraser fa-2x" style="color:black;"></i></button>

                <button id="" class="btn btn-light btn-sm Btn_edit lineWorkDescBtn_edit" hidden><i class="far fa-edit fa-2x" style="color:black;"></i></button>
                <button class='btn btn-light btn-sm Btn_save lineWorkDescBtn_save' hidden><i class='far fa-save fa-2x' style='color: black;'></i></button>
                <button class='btn btn-light btn-sm Btn_delete lineWorkDescBtn_delete' hidden><i class='far fa-minus-square fa-2x' style='color: black;'></i></button>
            </div>
        </div>
        @*END NEW WORK DESCRIPTION TEMPLATE*@
    </div>
</div>

<hr style="margin:1px; opacity:0">
@*BEGIN DELAYS*@
<div class="container" id="delays_container">
    <div class="row">
        <div class="col-6" style="padding:5px">
            <strong>Delays</strong>
        </div>
        <div class="col-3" style="padding:5px">
            <strong>Team</strong>
        </div>
        <div class="col-1" style="padding:5px">
            <strong>Hours</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <strong>Action</strong>
        </div>
    </div>
    @*BEGIN NEW DELAYS TEMPLATE*@
    <div class="col-12" id="delaysLine_template">
        <div class="row delaysLine_template_row_active" id="" style="border:1px solid black;">
            <div class="col-6 narr_div delaysTeam_narr_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-3 dpdwn_div delaysTeam_dpdwn_div" style="padding:0px;">
                <select class="Team_dpdwn delaysTeam_dpdwn" id="" multiple="multiple">
                </select>
            </div>
            <div class="col-3 dpdwn_parsed_div delaysTeam_dpdwn_parsed_div" id="" hidden contenteditable="false" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-1 hours_div delaysTeam_hours_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-2 button_div delaysTeam_button_div" style="padding:0px; border:1px solid black">
                <button id="" class="btn btn-light btn-sm Btn_add newDelaysBtn_add"><i class="far fa-plus-square fa-2x" style="color:black;"></i></button>
                <button id="" class="btn btn-light btn-sm Btn_clear newDelaysBtn_clear" hidden><i class="fas fa-eraser fa-2x" style="color:black;"></i></button>

                <button id="" class="btn btn-light btn-sm Btn_edit lineDelaysBtn_edit" hidden><i class="far fa-edit fa-2x" style="color:black;"></i></button>
                <button class='btn btn-light btn-sm Btn_save lineDelaysBtn_save' hidden><i class='far fa-save fa-2x' style='color: black;'></i></button>
                <button class='btn btn-light btn-sm Btn_delete lineDelaysBtn_delete' hidden><i class='far fa-minus-square fa-2x' style='color: black;'></i></button>
            </div>
        </div>

        <div class="row delaysLine_template_row_hidden" id="" style="border:1px solid black;" hidden>
            <div class="col-6 narr_div delaysTeam_narr_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-3 dpdwn_div delaysTeam_dpdwn_div" style="padding:0px;">
                <select class="Team_dpdwn delaysTeam_dpdwn" id="" multiple="multiple">
                </select>
            </div>
            <div class="col-3 dpdwn_parsed_div delaysTeam_dpdwn_parsed_div" id="" hidden contenteditable="false" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-1 hours_div delaysTeam_hours_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-2 button_div delaysTeam_button_div" style="padding:0px; border:1px solid black">
                <button id="" class="btn btn-light btn-sm Btn_add newDelaysBtn_add"><i class="far fa-plus-square fa-2x" style="color:black;"></i></button>
                <button id="" class="btn btn-light btn-sm Btn_clear newDelaysBtn_clear" hidden><i class="fas fa-eraser fa-2x" style="color:black;"></i></button>

                <button id="" class="btn btn-light btn-sm Btn_edit lineDelaysBtn_edit" hidden><i class="far fa-edit fa-2x" style="color:black;"></i></button>
                <button class='btn btn-light btn-sm Btn_save lineDelaysBtn_save' hidden><i class='far fa-save fa-2x' style='color: black;'></i></button>
                <button class='btn btn-light btn-sm Btn_delete lineDelaysBtn_delete' hidden><i class='far fa-minus-square fa-2x' style='color: black;'></i></button>
            </div>
        </div>
    </div>
</div>
@*END DELAYS TEMPLATE*@
@*END DELAYS*@

@*BEGIN WARRANTY DELAYS*@
<hr style="margin:1px; opacity:0">
<div class="container" id="wntyDelays_container">
    <div class="row">
        <div class="col-6" style="padding:5px">
            <strong> Warranty Delays</strong>
        </div>
        <div class="col-3" style="padding:5px">
            <strong>Team</strong>
        </div>
        <div class="col-1" style="padding:5px">
            <strong>Hours</strong>
        </div>
        <div class="col-2" style="padding:5px">
            <strong>Action</strong>
        </div>
    </div>
    @*BEGIN WARRANTY DELAYS TEMPLATE*@
    <div class="col-12" id="wntyDelaysLine_template">
        <div class="row wntyDelaysLine_template_row_active" id="" style="border:1px solid black;">
            <div class="col-6 narr_div wntyDelaysTeam_narr_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-3 dpdwn_div wntyDelaysTeam_dpdwn_div" style="padding:0px;">
                <select class="Team_dpdwn wntyDelaysTeam_dpdwn" id="" multiple="multiple">
                </select>
            </div>
            <div class="col-3 dpdwn_parsed_div wntyDelaysTeam_dpdwn_parsed_div" id="" hidden contenteditable="false" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-1 hours_div wntyDelaysTeam_hours_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-2 button_div wntyDelaysTeam_button_div" style="padding:0px; border:1px solid black">
                <button id="" class="btn btn-light btn-sm Btn_add newwntyDelaysBtn_add"><i class="far fa-plus-square fa-2x" style="color:black;"></i></button>
                <button id="" class="btn btn-light btn-sm Btn_clear newwntyDelaysBtn_clear" hidden><i class="fas fa-eraser fa-2x" style="color:black;"></i></button>

                <button id="" class="btn btn-light btn-sm Btn_edit linewntyDelaysBtn_edit" hidden><i class="far fa-edit fa-2x" style="color:black;"></i></button>
                <button class='btn btn-light btn-sm Btn_save linewntyDelaysBtn_save' hidden><i class='far fa-save fa-2x' style='color: black;'></i></button>
                <button class='btn btn-light btn-sm Btn_delete linewntyDelaysBtn_delete' hidden><i class='far fa-minus-square fa-2x' style='color: black;'></i></button>
            </div>
        </div>

        <div class="row wntyDelaysLine_template_row_hidden" id="" style="border:1px solid black;" hidden>
            <div class="col-6 narr_div wntyDelaysTeam_narr_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-3 dpdwn_div wntyDelaysTeam_dpdwn_div" style="padding:0px;">
                <select class="Team_dpdwn wntyDelaysTeam_dpdwn" id="" multiple="multiple">
                </select>
            </div>
            <div class="col-3 dpdwn_parsed_div wntyDelaysTeam_dpdwn_parsed_div" id="" hidden contenteditable="false" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-1 hours_div wntyDelaysTeam_hours_div" id="" contenteditable="true" style="padding:5px; border:1px solid black;">

            </div>
            <div class="col-2 button_div wntyDelaysTeam_button_div" style="padding:0px; border:1px solid black">
                <button id="" class="btn btn-light btn-sm Btn_add newwntyDelaysBtn_add"><i class="far fa-plus-square fa-2x" style="color:black;"></i></button>
                <button id="" class="btn btn-light btn-sm Btn_clear newwntyDelaysBtn_clear" hidden><i class="fas fa-eraser fa-2x" style="color:black;"></i></button>

                <button id="" class="btn btn-light btn-sm Btn_edit linewntyDelaysBtn_edit" hidden><i class="far fa-edit fa-2x" style="color:black;"></i></button>
                <button class='btn btn-light btn-sm Btn_save linewntyDelaysBtn_save' hidden><i class='far fa-save fa-2x' style='color: black;'></i></button>
                <button class='btn btn-light btn-sm Btn_delete linewntyDelaysBtn_delete' hidden><i class='far fa-minus-square fa-2x' style='color: black;'></i></button>
            </div>
        </div>
    </div>
    @*END WARRANTY DELAYS TEMPLATE*@
</div>
@*END WARRANTY DELAYS*@

<hr style="margin:1px; opacity:0">
<div class="container" id="">
    <div class="row">
        <div class="col-12" style="padding:5px">
            <button type="button" class="btn btn-primary btn-sm" id="addButton" style="width: 100%">Save and Submit for Review</button>
        </div>
    </div>
</div>
